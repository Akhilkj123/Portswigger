- Consider a shopping application that contains a stored XSS vulnerability in the blog comments function.

![image](https://github.com/Akhilkj123/Portswigger/assets/65653010/fa020123-9d23-44c6-9bf2-6c04689a067f)

- We exploit the vulnerability to perform a CSRF attack and change the email address of someone who views the blog post comments. First we login to the application using the given credentials

![image](https://github.com/Akhilkj123/Portswigger/assets/65653010/11b4d43d-6e11-47e9-a0ad-0ed88d46e43c)

- Now we update our gmail and capture it using BurpSuite. This means our exploit will need to load the user account page, extract the CSRF token, and then use the token to change the victim's email address.

![image](https://github.com/Akhilkj123/Portswigger/assets/65653010/eb3d06db-50bc-4457-a1a4-6e31b046df8d)

- Now we go to the blog's comment section and paste our payload there.

![image](https://github.com/Akhilkj123/Portswigger/assets/65653010/b746a18a-cab6-4629-a3ae-1ed7f1ba3004)

- This will make anyone who views the comment issue a POST request to change their email address to test@test.com. Thus the lab gets solved.

  ![image](https://github.com/Akhilkj123/Portswigger/assets/65653010/a13176f3-7b74-451d-b92d-ecc9fb8da4c9)


